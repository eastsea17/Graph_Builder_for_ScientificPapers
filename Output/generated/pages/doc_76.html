<style>
.lx-highlight { position: relative; border-radius:3px; padding:1px 2px;}
.lx-highlight .lx-tooltip {
  visibility: hidden;
  opacity: 0;
  transition: opacity 0.2s ease-in-out;
  background: #333;
  color: #fff;
  text-align: left;
  border-radius: 4px;
  padding: 6px 8px;
  position: absolute;
  z-index: 1000;
  bottom: 125%;
  left: 50%;
  transform: translateX(-50%);
  font-size: 12px;
  max-width: 240px;
  white-space: normal;
  box-shadow: 0 2px 6px rgba(0,0,0,0.3);
}
.lx-highlight:hover .lx-tooltip { visibility: visible; opacity:1; }
.lx-animated-wrapper { max-width: 100%; font-family: Arial, sans-serif; }
.lx-controls {
  background: #fafafa; border: 1px solid #90caf9; border-radius: 8px;
  padding: 12px; margin-bottom: 16px;
}
.lx-button-row {
  display: flex; justify-content: center; gap: 8px; margin-bottom: 12px;
}
.lx-control-btn {
  background: #4285f4; color: white; border: none; border-radius: 4px;
  padding: 8px 16px; cursor: pointer; font-size: 13px; font-weight: 500;
  transition: background-color 0.2s;
}
.lx-control-btn:hover { background: #3367d6; }
.lx-progress-container {
  margin-bottom: 8px;
}
.lx-progress-slider {
  width: 100%; margin: 0; appearance: none; height: 6px;
  background: #ddd; border-radius: 3px; outline: none;
}
.lx-progress-slider::-webkit-slider-thumb {
  appearance: none; width: 18px; height: 18px; background: #4285f4;
  border-radius: 50%; cursor: pointer;
}
.lx-progress-slider::-moz-range-thumb {
  width: 18px; height: 18px; background: #4285f4; border-radius: 50%;
  cursor: pointer; border: none;
}
.lx-status-text {
  text-align: center; font-size: 12px; color: #666; margin-top: 4px;
}
.lx-text-window {
  font-family: monospace; white-space: pre-wrap; border: 1px solid #90caf9;
  padding: 12px; max-height: 260px; overflow-y: auto; margin-bottom: 12px;
  line-height: 1.6;
}
.lx-attributes-panel {
  background: #fafafa; border: 1px solid #90caf9; border-radius: 6px;
  padding: 8px 10px; margin-top: 8px; font-size: 13px;
}
.lx-current-highlight {
  border-bottom: 4px solid #ff4444;
  font-weight: bold;
  animation: lx-pulse 1s ease-in-out;
}
@keyframes lx-pulse {
  0% { text-decoration-color: #ff4444; }
  50% { text-decoration-color: #ff0000; }
  100% { text-decoration-color: #ff4444; }
}
.lx-legend {
  font-size: 12px; margin-bottom: 8px;
  padding-bottom: 8px; border-bottom: 1px solid #e0e0e0;
}
.lx-label {
  display: inline-block;
  padding: 2px 4px;
  border-radius: 3px;
  margin-right: 4px;
  color: #000;
}
.lx-attr-key {
  font-weight: 600;
  color: #1565c0;
  letter-spacing: 0.3px;
}
.lx-attr-value {
  font-weight: 400;
  opacity: 0.85;
  letter-spacing: 0.2px;
}

/* Add optimizations with larger fonts and better readability for GIFs */
.lx-gif-optimized .lx-text-window { font-size: 16px; line-height: 1.8; }
.lx-gif-optimized .lx-attributes-panel { font-size: 15px; }
.lx-gif-optimized .lx-current-highlight { text-decoration-thickness: 4px; }
</style>
<div class="lx-animated-wrapper lx-gif-optimized">
  <div class="lx-attributes-panel">
    <div class="lx-legend">Highlights Legend: <span class="lx-label" style="background-color:#D2E3FC;">Background</span> <span class="lx-label" style="background-color:#C8E6C9;">Methodology</span> <span class="lx-label" style="background-color:#FEF0C3;">Purpose</span> <span class="lx-label" style="background-color:#F9DEDC;">Results</span></div>
    <div id="attributesContainer"></div>
  </div>
  <div class="lx-text-window" id="textWindow">
    Network Meta-analysis was used <span class="lx-highlight lx-current-highlight" data-idx="0" style="background-color:#FEF0C3;">to evaluate the efficacy and safety of different oral Chinese patent medicines combined with transcatheter arterial chemoembolization(TACE) in the treatment of primary liver cancer. Randomized controlled trials of <span class="lx-highlight" data-idx="1" style="background-color:#D2E3FC;">oral Chinese patent medicines</span> for primary liver cancer were retrieved from CNKI, Wanfang, VIP, SinoMed, PubMed, Cochrane Library and EMbase databases from inception to May 2020. According to the Cochrane recommendation standard, the quality of the included articles was evaluated, and the data were analyzed by RevMan, R software and GeMTC software. A total of 10 kinds of oral Chinese patent medicines and <span class="lx-highlight" data-idx="2" style="background-color:#C8E6C9;">68 RCTs were included. Network Meta-analysis</span> results showed that: as compared with TACE alone, 10 kinds of oral Chinese patent medicines combined with TACE showed advantages in effective rate, 1-year survival rate, 2-year survival rate, KPS score improvement rate and reduced adverse reaction incidence.</span> In the pairwise comparison of oral Chinese patent medicines, the results showed that Cidan Capsules were superior to Jinlong Capsules and Xihuang Pills in 1-year survival rate. According to the probabi-lity <span class="lx-highlight" data-idx="3" style="background-color:#F9DEDC;">ranking</span> results: Shenyi Capsules and Ganfule were more obvious in improving the effective rate; Cidan Capsules and Shenyi Capsules were more effective in improving the 1-year survival rate; Pingxiao Capsules and Shenyi Capsules had better efficacy in improving 2-year survival rate; Huaier Granules and Shenyi Capsules had better efficacy in improving the quality of life; Huisheng Oral Liquid and Ganfule were more effective in reducing the incidence of adverse reactions(such as nausea, vomiting and leukocytosis). The current evidence showed that oral Chinese patent medicine combined with TACE was superior to TACE alone in efficacy and safety. In terms of the effective rate, 1-year survival rate, 2-year survival rate, KPS score improvement rate and reduced adverse reaction incidence, the optimal treatment measures were Shenyi Capsules, Cidan Capsules, Pingxiao Capsules, Huaier Granules and Huisheng Oral Liquid in turn. However, due to the limitations of the research, the current level of evidence is not high, and clear conclusions and evi-dence strength still need to be further verified and improved by high-quality researches.
  </div>
  <div class="lx-controls">
    <div class="lx-button-row">
      <button class="lx-control-btn" onclick="playPause()">▶️ Play</button>
      <button class="lx-control-btn" onclick="prevExtraction()">⏮ Previous</button>
      <button class="lx-control-btn" onclick="nextExtraction()">⏭ Next</button>
    </div>
    <div class="lx-progress-container">
      <input type="range" id="progressSlider" class="lx-progress-slider"
             min="0" max="3" value="0"
             onchange="jumpToExtraction(this.value)">
    </div>
    <div class="lx-status-text">
      Entity <span id="entityInfo">1/4</span> |
      Pos <span id="posInfo">[245-274]</span>
    </div>
  </div>
</div>

<script>
  (function() {
    const extractions = [{"index": 0, "class": "Purpose", "text": "To compare the efficacy and safety of various oral Chinese patent medicines combined with TACE for primary liver cancer using network meta-analysis.", "color": "#FEF0C3", "startPos": 31, "endPos": 696, "beforeText": "Network Meta-analysis was used ", "extractionText": "to evaluate the efficacy and safety of different oral Chinese patent medicines combined with transcatheter arterial chemoembolization(TACE) in the treatment of primary liver cancer. Randomized controlled trials of oral Chinese patent medicines for primary liver cancer were retrieved from CNKI, Wanfang, VIP, SinoMed, PubMed, Cochrane Library and EMbase databases from inception to May 2020. According to the Cochrane recommendation standard, the quality of the included articles was evaluated, and the data were analyzed by RevMan, R software and GeMTC software. A total of 10 kinds of oral Chinese patent medicines and 68 RCTs were included. Network Meta-analysis", "afterText": " results showed that: as compared with TACE alone, 10 kinds of oral Chinese patent medicines combined with TACE showed advantages in effective rate, 1", "attributesHtml": "<div><strong>class:</strong> Purpose</div><div><strong>attributes:</strong> {}</div>"}, {"index": 1, "class": "Background", "text": "Oral Chinese patent medicines are frequently used as adjuncts, but their comparative efficacy and safety are unclear.", "color": "#D2E3FC", "startPos": 245, "endPos": 274, "beforeText": "tent medicines combined with transcatheter arterial chemoembolization(TACE) in the treatment of primary liver cancer. Randomized controlled trials of ", "extractionText": "oral Chinese patent medicines", "afterText": " for primary liver cancer were retrieved from CNKI, Wanfang, VIP, SinoMed, PubMed, Cochrane Library and EMbase databases from inception to May 2020. A", "attributesHtml": "<div><strong>class:</strong> Background</div><div><strong>attributes:</strong> {}</div>"}, {"index": 2, "class": "Methodology", "text": "Included 68 RCTs covering 10 oral Chinese patent medicines.", "color": "#C8E6C9", "startPos": 652, "endPos": 955, "beforeText": "articles was evaluated, and the data were analyzed by RevMan, R software and GeMTC software. A total of 10 kinds of oral Chinese patent medicines and ", "extractionText": "68 RCTs were included. Network Meta-analysis results showed that: as compared with TACE alone, 10 kinds of oral Chinese patent medicines combined with TACE showed advantages in effective rate, 1-year survival rate, 2-year survival rate, KPS score improvement rate and reduced adverse reaction incidence.", "afterText": " In the pairwise comparison of oral Chinese patent medicines, the results showed that Cidan Capsules were superior to Jinlong Capsules and Xihuang Pil", "attributesHtml": "<div><strong>class:</strong> Methodology</div><div><strong>attributes:</strong> {}</div>"}, {"index": 3, "class": "Results", "text": "Ranking identified Shenyi Capsules, Cidan Capsules, Pingxiao Capsules, Huaier Granules, and Huisheng Oral Liquid as the most effective options.", "color": "#F9DEDC", "startPos": 1163, "endPos": 1170, "beforeText": "es, the results showed that Cidan Capsules were superior to Jinlong Capsules and Xihuang Pills in 1-year survival rate. According to the probabi-lity ", "extractionText": "ranking", "afterText": " results: Shenyi Capsules and Ganfule were more obvious in improving the effective rate; Cidan Capsules and Shenyi Capsules were more effective in imp", "attributesHtml": "<div><strong>class:</strong> Results</div><div><strong>attributes:</strong> {}</div>"}];
    let currentIndex = 0;
    let isPlaying = false;
    let animationInterval = null;
    let animationSpeed = 1.0;

    function updateDisplay() {
      const extraction = extractions[currentIndex];
      if (!extraction) return;

      document.getElementById('attributesContainer').innerHTML = extraction.attributesHtml;
      document.getElementById('entityInfo').textContent = (currentIndex + 1) + '/' + extractions.length;
      document.getElementById('posInfo').textContent = '[' + extraction.startPos + '-' + extraction.endPos + ']';
      document.getElementById('progressSlider').value = currentIndex;

      const playBtn = document.querySelector('.lx-control-btn');
      if (playBtn) playBtn.textContent = isPlaying ? '⏸ Pause' : '▶️ Play';

      const prevHighlight = document.querySelector('.lx-text-window .lx-current-highlight');
      if (prevHighlight) prevHighlight.classList.remove('lx-current-highlight');
      const currentSpan = document.querySelector('.lx-text-window span[data-idx="' + currentIndex + '"]');
      if (currentSpan) {
        currentSpan.classList.add('lx-current-highlight');
        currentSpan.scrollIntoView({block: 'center', behavior: 'smooth'});
      }
    }

    function nextExtraction() {
      currentIndex = (currentIndex + 1) % extractions.length;
      updateDisplay();
    }

    function prevExtraction() {
      currentIndex = (currentIndex - 1 + extractions.length) % extractions.length;
      updateDisplay();
    }

    function jumpToExtraction(index) {
      currentIndex = parseInt(index);
      updateDisplay();
    }

    function playPause() {
      if (isPlaying) {
        clearInterval(animationInterval);
        isPlaying = false;
      } else {
        animationInterval = setInterval(nextExtraction, animationSpeed * 1000);
        isPlaying = true;
      }
      updateDisplay();
    }

    window.playPause = playPause;
    window.nextExtraction = nextExtraction;
    window.prevExtraction = prevExtraction;
    window.jumpToExtraction = jumpToExtraction;

    updateDisplay();
  })();
</script>