<style>
.lx-highlight { position: relative; border-radius:3px; padding:1px 2px;}
.lx-highlight .lx-tooltip {
  visibility: hidden;
  opacity: 0;
  transition: opacity 0.2s ease-in-out;
  background: #333;
  color: #fff;
  text-align: left;
  border-radius: 4px;
  padding: 6px 8px;
  position: absolute;
  z-index: 1000;
  bottom: 125%;
  left: 50%;
  transform: translateX(-50%);
  font-size: 12px;
  max-width: 240px;
  white-space: normal;
  box-shadow: 0 2px 6px rgba(0,0,0,0.3);
}
.lx-highlight:hover .lx-tooltip { visibility: visible; opacity:1; }
.lx-animated-wrapper { max-width: 100%; font-family: Arial, sans-serif; }
.lx-controls {
  background: #fafafa; border: 1px solid #90caf9; border-radius: 8px;
  padding: 12px; margin-bottom: 16px;
}
.lx-button-row {
  display: flex; justify-content: center; gap: 8px; margin-bottom: 12px;
}
.lx-control-btn {
  background: #4285f4; color: white; border: none; border-radius: 4px;
  padding: 8px 16px; cursor: pointer; font-size: 13px; font-weight: 500;
  transition: background-color 0.2s;
}
.lx-control-btn:hover { background: #3367d6; }
.lx-progress-container {
  margin-bottom: 8px;
}
.lx-progress-slider {
  width: 100%; margin: 0; appearance: none; height: 6px;
  background: #ddd; border-radius: 3px; outline: none;
}
.lx-progress-slider::-webkit-slider-thumb {
  appearance: none; width: 18px; height: 18px; background: #4285f4;
  border-radius: 50%; cursor: pointer;
}
.lx-progress-slider::-moz-range-thumb {
  width: 18px; height: 18px; background: #4285f4; border-radius: 50%;
  cursor: pointer; border: none;
}
.lx-status-text {
  text-align: center; font-size: 12px; color: #666; margin-top: 4px;
}
.lx-text-window {
  font-family: monospace; white-space: pre-wrap; border: 1px solid #90caf9;
  padding: 12px; max-height: 260px; overflow-y: auto; margin-bottom: 12px;
  line-height: 1.6;
}
.lx-attributes-panel {
  background: #fafafa; border: 1px solid #90caf9; border-radius: 6px;
  padding: 8px 10px; margin-top: 8px; font-size: 13px;
}
.lx-current-highlight {
  border-bottom: 4px solid #ff4444;
  font-weight: bold;
  animation: lx-pulse 1s ease-in-out;
}
@keyframes lx-pulse {
  0% { text-decoration-color: #ff4444; }
  50% { text-decoration-color: #ff0000; }
  100% { text-decoration-color: #ff4444; }
}
.lx-legend {
  font-size: 12px; margin-bottom: 8px;
  padding-bottom: 8px; border-bottom: 1px solid #e0e0e0;
}
.lx-label {
  display: inline-block;
  padding: 2px 4px;
  border-radius: 3px;
  margin-right: 4px;
  color: #000;
}
.lx-attr-key {
  font-weight: 600;
  color: #1565c0;
  letter-spacing: 0.3px;
}
.lx-attr-value {
  font-weight: 400;
  opacity: 0.85;
  letter-spacing: 0.2px;
}

/* Add optimizations with larger fonts and better readability for GIFs */
.lx-gif-optimized .lx-text-window { font-size: 16px; line-height: 1.8; }
.lx-gif-optimized .lx-attributes-panel { font-size: 15px; }
.lx-gif-optimized .lx-current-highlight { text-decoration-thickness: 4px; }
</style>
<div class="lx-animated-wrapper lx-gif-optimized">
  <div class="lx-attributes-panel">
    <div class="lx-legend">Highlights Legend: <span class="lx-label" style="background-color:#D2E3FC;">Background</span> <span class="lx-label" style="background-color:#C8E6C9;">Methodology</span> <span class="lx-label" style="background-color:#FEF0C3;">Purpose</span> <span class="lx-label" style="background-color:#F9DEDC;">Results</span></div>
    <div id="attributesContainer"></div>
  </div>
  <div class="lx-text-window" id="textWindow">
    <span class="lx-highlight lx-current-highlight" data-idx="0" style="background-color:#D2E3FC;">Knowledge</span>, once generated, spills only imperfectly among firms and nations. We posit that since <span class="lx-highlight" data-idx="1" style="background-color:#D2E3FC;">institutions and labor networks vary by region,</span> there should be regional variations in the localization of spillovers. We <span class="lx-highlight" data-idx="2" style="background-color:#FEF0C3;">investigate the relationship between</span> the mobility of major patent holders and the localization of technological knowledge through the <span class="lx-highlight" data-idx="3" style="background-color:#C8E6C9;"><span class="lx-highlight" data-idx="4" style="background-color:#C8E6C9;">analysis of patent citations of important semiconductor innovations</span>. We find that <span class="lx-highlight" data-idx="5" style="background-color:#F9DEDC;">knowledge localization is specific to</span> only certain regions (particularly Silicon Valley) and that the <span class="lx-highlight" data-idx="6" style="background-color:#F9DEDC;">degree of localization varies across</span> regions. By analyzing data on the interfirm mobility of patent holders</span>, we empirically show that the <span class="lx-highlight" data-idx="7" style="background-color:#F9DEDC;">interfirm mobility of engineers</span> influences the local transfer of knowledge. The flow of knowledge is embedded in regional labor networks.
  </div>
  <div class="lx-controls">
    <div class="lx-button-row">
      <button class="lx-control-btn" onclick="playPause()">▶️ Play</button>
      <button class="lx-control-btn" onclick="prevExtraction()">⏮ Previous</button>
      <button class="lx-control-btn" onclick="nextExtraction()">⏭ Next</button>
    </div>
    <div class="lx-progress-container">
      <input type="range" id="progressSlider" class="lx-progress-slider"
             min="0" max="7" value="0"
             onchange="jumpToExtraction(this.value)">
    </div>
    <div class="lx-status-text">
      Entity <span id="entityInfo">1/8</span> |
      Pos <span id="posInfo">[0-9]</span>
    </div>
  </div>
</div>

<script>
  (function() {
    const extractions = [{"index": 0, "class": "Background", "text": "Knowledge spillovers among firms and nations occur imperfectly", "color": "#D2E3FC", "startPos": 0, "endPos": 9, "beforeText": "", "extractionText": "Knowledge", "afterText": ", once generated, spills only imperfectly among firms and nations. We posit that since institutions and labor networks vary by region, there should be", "attributesHtml": "<div><strong>class:</strong> Background</div><div><strong>attributes:</strong> {}</div>"}, {"index": 1, "class": "Background", "text": "Institutions and labor networks vary by region, suggesting regional variations in spillover localization", "color": "#D2E3FC", "startPos": 96, "endPos": 143, "beforeText": "Knowledge, once generated, spills only imperfectly among firms and nations. We posit that since ", "extractionText": "institutions and labor networks vary by region,", "afterText": " there should be regional variations in the localization of spillovers. We investigate the relationship between the mobility of major patent holders a", "attributesHtml": "<div><strong>class:</strong> Background</div><div><strong>attributes:</strong> {}</div>"}, {"index": 2, "class": "Purpose", "text": "Investigate the relationship between mobility of major patent holders and localization of technological knowledge", "color": "#FEF0C3", "startPos": 218, "endPos": 254, "beforeText": "ations. We posit that since institutions and labor networks vary by region, there should be regional variations in the localization of spillovers. We ", "extractionText": "investigate the relationship between", "afterText": " the mobility of major patent holders and the localization of technological knowledge through the analysis of patent citations of important semiconduc", "attributesHtml": "<div><strong>class:</strong> Purpose</div><div><strong>attributes:</strong> {}</div>"}, {"index": 3, "class": "Methodology", "text": "Analysis of data on interfirm mobility of patent holders", "color": "#C8E6C9", "startPos": 352, "endPos": 643, "beforeText": " spillovers. We investigate the relationship between the mobility of major patent holders and the localization of technological knowledge through the ", "extractionText": "analysis of patent citations of important semiconductor innovations. We find that knowledge localization is specific to only certain regions (particularly Silicon Valley) and that the degree of localization varies across regions. By analyzing data on the interfirm mobility of patent holders", "afterText": ", we empirically show that the interfirm mobility of engineers influences the local transfer of knowledge. The flow of knowledge is embedded in region", "attributesHtml": "<div><strong>class:</strong> Methodology</div><div><strong>attributes:</strong> {}</div>"}, {"index": 4, "class": "Methodology", "text": "Analysis of patent citations of important semiconductor innovations", "color": "#C8E6C9", "startPos": 352, "endPos": 419, "beforeText": " spillovers. We investigate the relationship between the mobility of major patent holders and the localization of technological knowledge through the ", "extractionText": "analysis of patent citations of important semiconductor innovations", "afterText": ". We find that knowledge localization is specific to only certain regions (particularly Silicon Valley) and that the degree of localization varies acr", "attributesHtml": "<div><strong>class:</strong> Methodology</div><div><strong>attributes:</strong> {}</div>"}, {"index": 5, "class": "Results", "text": "Knowledge localization is specific to certain regions, particularly Silicon Valley", "color": "#F9DEDC", "startPos": 434, "endPos": 471, "beforeText": "holders and the localization of technological knowledge through the analysis of patent citations of important semiconductor innovations. We find that ", "extractionText": "knowledge localization is specific to", "afterText": " only certain regions (particularly Silicon Valley) and that the degree of localization varies across regions. By analyzing data on the interfirm mobi", "attributesHtml": "<div><strong>class:</strong> Results</div><div><strong>attributes:</strong> {}</div>"}, {"index": 6, "class": "Results", "text": "Degree of localization varies across different regions", "color": "#F9DEDC", "startPos": 536, "endPos": 572, "beforeText": "portant semiconductor innovations. We find that knowledge localization is specific to only certain regions (particularly Silicon Valley) and that the ", "extractionText": "degree of localization varies across", "afterText": " regions. By analyzing data on the interfirm mobility of patent holders, we empirically show that the interfirm mobility of engineers influences the l", "attributesHtml": "<div><strong>class:</strong> Results</div><div><strong>attributes:</strong> {}</div>"}, {"index": 7, "class": "Results", "text": "Interfirm mobility of engineers empirically shown to influence local knowledge transfer", "color": "#F9DEDC", "startPos": 674, "endPos": 705, "beforeText": "nd that the degree of localization varies across regions. By analyzing data on the interfirm mobility of patent holders, we empirically show that the ", "extractionText": "interfirm mobility of engineers", "afterText": " influences the local transfer of knowledge. The flow of knowledge is embedded in regional labor networks.", "attributesHtml": "<div><strong>class:</strong> Results</div><div><strong>attributes:</strong> {}</div>"}];
    let currentIndex = 0;
    let isPlaying = false;
    let animationInterval = null;
    let animationSpeed = 1.0;

    function updateDisplay() {
      const extraction = extractions[currentIndex];
      if (!extraction) return;

      document.getElementById('attributesContainer').innerHTML = extraction.attributesHtml;
      document.getElementById('entityInfo').textContent = (currentIndex + 1) + '/' + extractions.length;
      document.getElementById('posInfo').textContent = '[' + extraction.startPos + '-' + extraction.endPos + ']';
      document.getElementById('progressSlider').value = currentIndex;

      const playBtn = document.querySelector('.lx-control-btn');
      if (playBtn) playBtn.textContent = isPlaying ? '⏸ Pause' : '▶️ Play';

      const prevHighlight = document.querySelector('.lx-text-window .lx-current-highlight');
      if (prevHighlight) prevHighlight.classList.remove('lx-current-highlight');
      const currentSpan = document.querySelector('.lx-text-window span[data-idx="' + currentIndex + '"]');
      if (currentSpan) {
        currentSpan.classList.add('lx-current-highlight');
        currentSpan.scrollIntoView({block: 'center', behavior: 'smooth'});
      }
    }

    function nextExtraction() {
      currentIndex = (currentIndex + 1) % extractions.length;
      updateDisplay();
    }

    function prevExtraction() {
      currentIndex = (currentIndex - 1 + extractions.length) % extractions.length;
      updateDisplay();
    }

    function jumpToExtraction(index) {
      currentIndex = parseInt(index);
      updateDisplay();
    }

    function playPause() {
      if (isPlaying) {
        clearInterval(animationInterval);
        isPlaying = false;
      } else {
        animationInterval = setInterval(nextExtraction, animationSpeed * 1000);
        isPlaying = true;
      }
      updateDisplay();
    }

    window.playPause = playPause;
    window.nextExtraction = nextExtraction;
    window.prevExtraction = prevExtraction;
    window.jumpToExtraction = jumpToExtraction;

    updateDisplay();
  })();
</script>