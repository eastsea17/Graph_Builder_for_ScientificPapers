<style>
.lx-highlight { position: relative; border-radius:3px; padding:1px 2px;}
.lx-highlight .lx-tooltip {
  visibility: hidden;
  opacity: 0;
  transition: opacity 0.2s ease-in-out;
  background: #333;
  color: #fff;
  text-align: left;
  border-radius: 4px;
  padding: 6px 8px;
  position: absolute;
  z-index: 1000;
  bottom: 125%;
  left: 50%;
  transform: translateX(-50%);
  font-size: 12px;
  max-width: 240px;
  white-space: normal;
  box-shadow: 0 2px 6px rgba(0,0,0,0.3);
}
.lx-highlight:hover .lx-tooltip { visibility: visible; opacity:1; }
.lx-animated-wrapper { max-width: 100%; font-family: Arial, sans-serif; }
.lx-controls {
  background: #fafafa; border: 1px solid #90caf9; border-radius: 8px;
  padding: 12px; margin-bottom: 16px;
}
.lx-button-row {
  display: flex; justify-content: center; gap: 8px; margin-bottom: 12px;
}
.lx-control-btn {
  background: #4285f4; color: white; border: none; border-radius: 4px;
  padding: 8px 16px; cursor: pointer; font-size: 13px; font-weight: 500;
  transition: background-color 0.2s;
}
.lx-control-btn:hover { background: #3367d6; }
.lx-progress-container {
  margin-bottom: 8px;
}
.lx-progress-slider {
  width: 100%; margin: 0; appearance: none; height: 6px;
  background: #ddd; border-radius: 3px; outline: none;
}
.lx-progress-slider::-webkit-slider-thumb {
  appearance: none; width: 18px; height: 18px; background: #4285f4;
  border-radius: 50%; cursor: pointer;
}
.lx-progress-slider::-moz-range-thumb {
  width: 18px; height: 18px; background: #4285f4; border-radius: 50%;
  cursor: pointer; border: none;
}
.lx-status-text {
  text-align: center; font-size: 12px; color: #666; margin-top: 4px;
}
.lx-text-window {
  font-family: monospace; white-space: pre-wrap; border: 1px solid #90caf9;
  padding: 12px; max-height: 260px; overflow-y: auto; margin-bottom: 12px;
  line-height: 1.6;
}
.lx-attributes-panel {
  background: #fafafa; border: 1px solid #90caf9; border-radius: 6px;
  padding: 8px 10px; margin-top: 8px; font-size: 13px;
}
.lx-current-highlight {
  border-bottom: 4px solid #ff4444;
  font-weight: bold;
  animation: lx-pulse 1s ease-in-out;
}
@keyframes lx-pulse {
  0% { text-decoration-color: #ff4444; }
  50% { text-decoration-color: #ff0000; }
  100% { text-decoration-color: #ff4444; }
}
.lx-legend {
  font-size: 12px; margin-bottom: 8px;
  padding-bottom: 8px; border-bottom: 1px solid #e0e0e0;
}
.lx-label {
  display: inline-block;
  padding: 2px 4px;
  border-radius: 3px;
  margin-right: 4px;
  color: #000;
}
.lx-attr-key {
  font-weight: 600;
  color: #1565c0;
  letter-spacing: 0.3px;
}
.lx-attr-value {
  font-weight: 400;
  opacity: 0.85;
  letter-spacing: 0.2px;
}

/* Add optimizations with larger fonts and better readability for GIFs */
.lx-gif-optimized .lx-text-window { font-size: 16px; line-height: 1.8; }
.lx-gif-optimized .lx-attributes-panel { font-size: 15px; }
.lx-gif-optimized .lx-current-highlight { text-decoration-thickness: 4px; }
</style>
<div class="lx-animated-wrapper lx-gif-optimized">
  <div class="lx-attributes-panel">
    <div class="lx-legend">Highlights Legend: <span class="lx-label" style="background-color:#D2E3FC;">Background</span> <span class="lx-label" style="background-color:#C8E6C9;">Purpose</span> <span class="lx-label" style="background-color:#FEF0C3;">Results</span></div>
    <div id="attributesContainer"></div>
  </div>
  <div class="lx-text-window" id="textWindow">
    It is important for <span class="lx-highlight lx-current-highlight" data-idx="0" style="background-color:#D2E3FC;">policymakers <span class="lx-highlight" data-idx="1" style="background-color:#C8E6C9;">and industry</span> practitioners to understand the factors that influence the evolution of a technology’s knowledge base, i.e., its knowledge trajectory. The <span class="lx-highlight" data-idx="2" style="background-color:#D2E3FC;">literature on the evolution of technologies and their underlying knowledge bases suggests that technological innovation takes place in an incremental and cumulative manner along certain trajectories.</span> We extend this literature by not only focusing on the influence of the design hierarchy on the evolution of knowledge, but also the influence of emergence of use environments. We focus on the case of lithium-ion battery (LIB) technology from 1970 to 2018.</span> We use a dataset of 101,620 patent families to identify and analyze the LIB industry’s core knowledge trajectory. Our results indicate that the <span class="lx-highlight" data-idx="3" style="background-color:#FEF0C3;">emergence of new use environments</span> (in particular, those that require different service characteristics as compared <span class="lx-highlight" data-idx="4" style="background-color:#FEF0C3;">to older use environments) can serve as an important mechanism for increased knowledge generation at the level of the product architecture, increased product innovation, increased technological uncertainty, and increased participation of new actors in the core knowledge trajectory.</span> We discuss implications for practitioners and policy makers interested in understanding factors that influence the relative knowledge positions of firms and nations in complex, multi-purpose technologies.
  </div>
  <div class="lx-controls">
    <div class="lx-button-row">
      <button class="lx-control-btn" onclick="playPause()">▶️ Play</button>
      <button class="lx-control-btn" onclick="prevExtraction()">⏮ Previous</button>
      <button class="lx-control-btn" onclick="nextExtraction()">⏭ Next</button>
    </div>
    <div class="lx-progress-container">
      <input type="range" id="progressSlider" class="lx-progress-slider"
             min="0" max="4" value="0"
             onchange="jumpToExtraction(this.value)">
    </div>
    <div class="lx-status-text">
      Entity <span id="entityInfo">1/5</span> |
      Pos <span id="posInfo">[20-45]</span>
    </div>
  </div>
</div>

<script>
  (function() {
    const extractions = [{"index": 0, "class": "Background", "text": "Policymakers and industry need to understand factors shaping the evolution of a technology\u2019s knowledge base.", "color": "#D2E3FC", "startPos": 20, "endPos": 45, "beforeText": "It is important for ", "extractionText": "policymakers and industry", "afterText": " practitioners to understand the factors that influence the evolution of a technology\u2019s knowledge base, i.e., its knowledge trajectory. The literature", "attributesHtml": "<div><strong>class:</strong> Background</div><div><strong>attributes:</strong> {}</div>"}, {"index": 1, "class": "Purpose", "text": "Identify and analyze the core knowledge trajectory of lithium\u2011ion battery (LIB) technology from 1970\u20112018.", "color": "#C8E6C9", "startPos": 33, "endPos": 640, "beforeText": "It is important for policymakers ", "extractionText": "and industry practitioners to understand the factors that influence the evolution of a technology\u2019s knowledge base, i.e., its knowledge trajectory. The literature on the evolution of technologies and their underlying knowledge bases suggests that technological innovation takes place in an incremental and cumulative manner along certain trajectories. We extend this literature by not only focusing on the influence of the design hierarchy on the evolution of knowledge, but also the influence of emergence of use environments. We focus on the case of lithium-ion battery (LIB) technology from 1970 to 2018.", "afterText": " We use a dataset of 101,620 patent families to identify and analyze the LIB industry\u2019s core knowledge trajectory. Our results indicate that the emerg", "attributesHtml": "<div><strong>class:</strong> Purpose</div><div><strong>attributes:</strong> {}</div>"}, {"index": 2, "class": "Background", "text": "Existing literature describes technological innovation as incremental and cumulative along trajectories.", "color": "#D2E3FC", "startPos": 185, "endPos": 384, "beforeText": "d industry practitioners to understand the factors that influence the evolution of a technology\u2019s knowledge base, i.e., its knowledge trajectory. The ", "extractionText": "literature on the evolution of technologies and their underlying knowledge bases suggests that technological innovation takes place in an incremental and cumulative manner along certain trajectories.", "afterText": " We extend this literature by not only focusing on the influence of the design hierarchy on the evolution of knowledge, but also the influence of emer", "attributesHtml": "<div><strong>class:</strong> Background</div><div><strong>attributes:</strong> {}</div>"}, {"index": 3, "class": "Results", "text": "Emergence of new use environments drives higher knowledge generation at the product\u2011architecture level.", "color": "#FEF0C3", "startPos": 785, "endPos": 818, "beforeText": "2018. We use a dataset of 101,620 patent families to identify and analyze the LIB industry\u2019s core knowledge trajectory. Our results indicate that the ", "extractionText": "emergence of new use environments", "afterText": " (in particular, those that require different service characteristics as compared to older use environments) can serve as an important mechanism for i", "attributesHtml": "<div><strong>class:</strong> Results</div><div><strong>attributes:</strong> {}</div>"}, {"index": 4, "class": "Results", "text": "Leads to increased product innovation, greater technological uncertainty, and participation of new actors in the core trajectory.", "color": "#FEF0C3", "startPos": 900, "endPos": 1182, "beforeText": "ory. Our results indicate that the emergence of new use environments (in particular, those that require different service characteristics as compared ", "extractionText": "to older use environments) can serve as an important mechanism for increased knowledge generation at the level of the product architecture, increased product innovation, increased technological uncertainty, and increased participation of new actors in the core knowledge trajectory.", "afterText": " We discuss implications for practitioners and policy makers interested in understanding factors that influence the relative knowledge positions of fi", "attributesHtml": "<div><strong>class:</strong> Results</div><div><strong>attributes:</strong> {}</div>"}];
    let currentIndex = 0;
    let isPlaying = false;
    let animationInterval = null;
    let animationSpeed = 1.0;

    function updateDisplay() {
      const extraction = extractions[currentIndex];
      if (!extraction) return;

      document.getElementById('attributesContainer').innerHTML = extraction.attributesHtml;
      document.getElementById('entityInfo').textContent = (currentIndex + 1) + '/' + extractions.length;
      document.getElementById('posInfo').textContent = '[' + extraction.startPos + '-' + extraction.endPos + ']';
      document.getElementById('progressSlider').value = currentIndex;

      const playBtn = document.querySelector('.lx-control-btn');
      if (playBtn) playBtn.textContent = isPlaying ? '⏸ Pause' : '▶️ Play';

      const prevHighlight = document.querySelector('.lx-text-window .lx-current-highlight');
      if (prevHighlight) prevHighlight.classList.remove('lx-current-highlight');
      const currentSpan = document.querySelector('.lx-text-window span[data-idx="' + currentIndex + '"]');
      if (currentSpan) {
        currentSpan.classList.add('lx-current-highlight');
        currentSpan.scrollIntoView({block: 'center', behavior: 'smooth'});
      }
    }

    function nextExtraction() {
      currentIndex = (currentIndex + 1) % extractions.length;
      updateDisplay();
    }

    function prevExtraction() {
      currentIndex = (currentIndex - 1 + extractions.length) % extractions.length;
      updateDisplay();
    }

    function jumpToExtraction(index) {
      currentIndex = parseInt(index);
      updateDisplay();
    }

    function playPause() {
      if (isPlaying) {
        clearInterval(animationInterval);
        isPlaying = false;
      } else {
        animationInterval = setInterval(nextExtraction, animationSpeed * 1000);
        isPlaying = true;
      }
      updateDisplay();
    }

    window.playPause = playPause;
    window.nextExtraction = nextExtraction;
    window.prevExtraction = prevExtraction;
    window.jumpToExtraction = jumpToExtraction;

    updateDisplay();
  })();
</script>