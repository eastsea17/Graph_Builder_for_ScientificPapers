<style>
.lx-highlight { position: relative; border-radius:3px; padding:1px 2px;}
.lx-highlight .lx-tooltip {
  visibility: hidden;
  opacity: 0;
  transition: opacity 0.2s ease-in-out;
  background: #333;
  color: #fff;
  text-align: left;
  border-radius: 4px;
  padding: 6px 8px;
  position: absolute;
  z-index: 1000;
  bottom: 125%;
  left: 50%;
  transform: translateX(-50%);
  font-size: 12px;
  max-width: 240px;
  white-space: normal;
  box-shadow: 0 2px 6px rgba(0,0,0,0.3);
}
.lx-highlight:hover .lx-tooltip { visibility: visible; opacity:1; }
.lx-animated-wrapper { max-width: 100%; font-family: Arial, sans-serif; }
.lx-controls {
  background: #fafafa; border: 1px solid #90caf9; border-radius: 8px;
  padding: 12px; margin-bottom: 16px;
}
.lx-button-row {
  display: flex; justify-content: center; gap: 8px; margin-bottom: 12px;
}
.lx-control-btn {
  background: #4285f4; color: white; border: none; border-radius: 4px;
  padding: 8px 16px; cursor: pointer; font-size: 13px; font-weight: 500;
  transition: background-color 0.2s;
}
.lx-control-btn:hover { background: #3367d6; }
.lx-progress-container {
  margin-bottom: 8px;
}
.lx-progress-slider {
  width: 100%; margin: 0; appearance: none; height: 6px;
  background: #ddd; border-radius: 3px; outline: none;
}
.lx-progress-slider::-webkit-slider-thumb {
  appearance: none; width: 18px; height: 18px; background: #4285f4;
  border-radius: 50%; cursor: pointer;
}
.lx-progress-slider::-moz-range-thumb {
  width: 18px; height: 18px; background: #4285f4; border-radius: 50%;
  cursor: pointer; border: none;
}
.lx-status-text {
  text-align: center; font-size: 12px; color: #666; margin-top: 4px;
}
.lx-text-window {
  font-family: monospace; white-space: pre-wrap; border: 1px solid #90caf9;
  padding: 12px; max-height: 260px; overflow-y: auto; margin-bottom: 12px;
  line-height: 1.6;
}
.lx-attributes-panel {
  background: #fafafa; border: 1px solid #90caf9; border-radius: 6px;
  padding: 8px 10px; margin-top: 8px; font-size: 13px;
}
.lx-current-highlight {
  border-bottom: 4px solid #ff4444;
  font-weight: bold;
  animation: lx-pulse 1s ease-in-out;
}
@keyframes lx-pulse {
  0% { text-decoration-color: #ff4444; }
  50% { text-decoration-color: #ff0000; }
  100% { text-decoration-color: #ff4444; }
}
.lx-legend {
  font-size: 12px; margin-bottom: 8px;
  padding-bottom: 8px; border-bottom: 1px solid #e0e0e0;
}
.lx-label {
  display: inline-block;
  padding: 2px 4px;
  border-radius: 3px;
  margin-right: 4px;
  color: #000;
}
.lx-attr-key {
  font-weight: 600;
  color: #1565c0;
  letter-spacing: 0.3px;
}
.lx-attr-value {
  font-weight: 400;
  opacity: 0.85;
  letter-spacing: 0.2px;
}

/* Add optimizations with larger fonts and better readability for GIFs */
.lx-gif-optimized .lx-text-window { font-size: 16px; line-height: 1.8; }
.lx-gif-optimized .lx-attributes-panel { font-size: 15px; }
.lx-gif-optimized .lx-current-highlight { text-decoration-thickness: 4px; }
</style>
<div class="lx-animated-wrapper lx-gif-optimized">
  <div class="lx-attributes-panel">
    <div class="lx-legend">Highlights Legend: <span class="lx-label" style="background-color:#D2E3FC;">Background</span> <span class="lx-label" style="background-color:#C8E6C9;">Methodology</span> <span class="lx-label" style="background-color:#FEF0C3;">Purpose</span> <span class="lx-label" style="background-color:#F9DEDC;">Results</span></div>
    <div id="attributesContainer"></div>
  </div>
  <div class="lx-text-window" id="textWindow">
    <span class="lx-highlight lx-current-highlight" data-idx="0" style="background-color:#D2E3FC;">Patent analysis</span> has recently been recognized <span class="lx-highlight" data-idx="1" style="background-color:#D2E3FC;">as a powerful technique for large companies in the world to lend them <span class="lx-highlight" data-idx="2" style="background-color:#F9DEDC;">insight into the age of competition among various industries. This technique is considered a shortcut for developing countries since it can significantly accelerate their technology development.</span> Therefore, as an inevitable process, <span class="lx-highlight" data-idx="3" style="background-color:#D2E3FC;">patent analysis can be</span> utilized to monitor rival companies and diverse industries. In this research, a graph representation learning approach employed to create, analyze <span class="lx-highlight" data-idx="4" style="background-color:#C8E6C9;">and find similarities of the patents data registered in the Iranian Official Gazette. The patent records were scrapped and wrangled through the Iranian Official Gazette portal.</span> Afterward, the key entities were extracted from the scrapped patents dataset to create the Iranian patents graph from scratch based on novel natural language processing and entity resolution technique. Finally, thanks to the utilization of novel graph algorithms and text mining methods, we identified <span class="lx-highlight" data-idx="5" style="background-color:#FEF0C3;"><span class="lx-highlight" data-idx="6" style="background-color:#F9DEDC;">new areas <span class="lx-highlight" data-idx="7" style="background-color:#FEF0C3;">of industry and research from Iranian patent data, which can be used extensively to prevent duplicate patents, familiarity with similar and connected inventions, Awareness of legal entities supporting patents and knowledge of researchers and linked stakeholders in a particular research field.</span></span></span></span>
  </div>
  <div class="lx-controls">
    <div class="lx-button-row">
      <button class="lx-control-btn" onclick="playPause()">▶️ Play</button>
      <button class="lx-control-btn" onclick="prevExtraction()">⏮ Previous</button>
      <button class="lx-control-btn" onclick="nextExtraction()">⏭ Next</button>
    </div>
    <div class="lx-progress-container">
      <input type="range" id="progressSlider" class="lx-progress-slider"
             min="0" max="7" value="0"
             onchange="jumpToExtraction(this.value)">
    </div>
    <div class="lx-status-text">
      Entity <span id="entityInfo">1/8</span> |
      Pos <span id="posInfo">[0-15]</span>
    </div>
  </div>
</div>

<script>
  (function() {
    const extractions = [{"index": 0, "class": "Background", "text": "Patent analysis is a powerful technique for large companies to gain competitive insights.", "color": "#D2E3FC", "startPos": 0, "endPos": 15, "beforeText": "", "extractionText": "Patent analysis", "afterText": " has recently been recognized as a powerful technique for large companies in the world to lend them insight into the age of competition among various ", "attributesHtml": "<div><strong>class:</strong> Background</div><div><strong>attributes:</strong> {}</div>"}, {"index": 1, "class": "Background", "text": "It serves as a shortcut for developing countries to accelerate technology development.", "color": "#D2E3FC", "startPos": 45, "endPos": 309, "beforeText": "Patent analysis has recently been recognized ", "extractionText": "as a powerful technique for large companies in the world to lend them insight into the age of competition among various industries. This technique is considered a shortcut for developing countries since it can significantly accelerate their technology development.", "afterText": " Therefore, as an inevitable process, patent analysis can be utilized to monitor rival companies and diverse industries. In this research, a graph rep", "attributesHtml": "<div><strong>class:</strong> Background</div><div><strong>attributes:</strong> {}</div>"}, {"index": 2, "class": "Results", "text": "Provided insights into legal entities, researchers, and linked stakeholders in specific research fields.", "color": "#F9DEDC", "startPos": 115, "endPos": 1299, "beforeText": "Patent analysis has recently been recognized as a powerful technique for large companies in the world to lend them ", "extractionText": "insight into the age of competition among various industries. This technique is considered a shortcut for developing countries since it can significantly accelerate their technology development. Therefore, as an inevitable process, patent analysis can be utilized to monitor rival companies and diverse industries. In this research, a graph representation learning approach employed to create, analyze and find similarities of the patents data registered in the Iranian Official Gazette. The patent records were scrapped and wrangled through the Iranian Official Gazette portal. Afterward, the key entities were extracted from the scrapped patents dataset to create the Iranian patents graph from scratch based on novel natural language processing and entity resolution technique. Finally, thanks to the utilization of novel graph algorithms and text mining methods, we identified new areas of industry and research from Iranian patent data, which can be used extensively to prevent duplicate patents, familiarity with similar and connected inventions, Awareness of legal entities supporting patents and knowledge of researchers and linked stakeholders in a particular research field.", "afterText": "", "attributesHtml": "<div><strong>class:</strong> Results</div><div><strong>attributes:</strong> {}</div>"}, {"index": 3, "class": "Background", "text": "Patent analysis can be used to monitor rival companies and diverse industries.", "color": "#D2E3FC", "startPos": 347, "endPos": 369, "beforeText": "nsidered a shortcut for developing countries since it can significantly accelerate their technology development. Therefore, as an inevitable process, ", "extractionText": "patent analysis can be", "afterText": " utilized to monitor rival companies and diverse industries. In this research, a graph representation learning approach employed to create, analyze an", "attributesHtml": "<div><strong>class:</strong> Background</div><div><strong>attributes:</strong> {}</div>"}, {"index": 4, "class": "Methodology", "text": "Scraped and wrangled patent records from the Iranian Official Gazette portal.", "color": "#C8E6C9", "startPos": 517, "endPos": 693, "beforeText": "be utilized to monitor rival companies and diverse industries. In this research, a graph representation learning approach employed to create, analyze ", "extractionText": "and find similarities of the patents data registered in the Iranian Official Gazette. The patent records were scrapped and wrangled through the Iranian Official Gazette portal.", "afterText": " Afterward, the key entities were extracted from the scrapped patents dataset to create the Iranian patents graph from scratch based on novel natural ", "attributesHtml": "<div><strong>class:</strong> Methodology</div><div><strong>attributes:</strong> {}</div>"}, {"index": 5, "class": "Purpose", "text": "Identify new industry and research areas from Iranian patent data.", "color": "#FEF0C3", "startPos": 996, "endPos": 1299, "beforeText": "guage processing and entity resolution technique. Finally, thanks to the utilization of novel graph algorithms and text mining methods, we identified ", "extractionText": "new areas of industry and research from Iranian patent data, which can be used extensively to prevent duplicate patents, familiarity with similar and connected inventions, Awareness of legal entities supporting patents and knowledge of researchers and linked stakeholders in a particular research field.", "afterText": "", "attributesHtml": "<div><strong>class:</strong> Purpose</div><div><strong>attributes:</strong> {}</div>"}, {"index": 6, "class": "Results", "text": "Discovered new areas of industry and research within Iranian patent data.", "color": "#F9DEDC", "startPos": 996, "endPos": 1299, "beforeText": "guage processing and entity resolution technique. Finally, thanks to the utilization of novel graph algorithms and text mining methods, we identified ", "extractionText": "new areas of industry and research from Iranian patent data, which can be used extensively to prevent duplicate patents, familiarity with similar and connected inventions, Awareness of legal entities supporting patents and knowledge of researchers and linked stakeholders in a particular research field.", "afterText": "", "attributesHtml": "<div><strong>class:</strong> Results</div><div><strong>attributes:</strong> {}</div>"}, {"index": 7, "class": "Purpose", "text": "Support prevention of duplicate patents and improve awareness of legal entities and stakeholders.", "color": "#FEF0C3", "startPos": 1006, "endPos": 1299, "beforeText": "essing and entity resolution technique. Finally, thanks to the utilization of novel graph algorithms and text mining methods, we identified new areas ", "extractionText": "of industry and research from Iranian patent data, which can be used extensively to prevent duplicate patents, familiarity with similar and connected inventions, Awareness of legal entities supporting patents and knowledge of researchers and linked stakeholders in a particular research field.", "afterText": "", "attributesHtml": "<div><strong>class:</strong> Purpose</div><div><strong>attributes:</strong> {}</div>"}];
    let currentIndex = 0;
    let isPlaying = false;
    let animationInterval = null;
    let animationSpeed = 1.0;

    function updateDisplay() {
      const extraction = extractions[currentIndex];
      if (!extraction) return;

      document.getElementById('attributesContainer').innerHTML = extraction.attributesHtml;
      document.getElementById('entityInfo').textContent = (currentIndex + 1) + '/' + extractions.length;
      document.getElementById('posInfo').textContent = '[' + extraction.startPos + '-' + extraction.endPos + ']';
      document.getElementById('progressSlider').value = currentIndex;

      const playBtn = document.querySelector('.lx-control-btn');
      if (playBtn) playBtn.textContent = isPlaying ? '⏸ Pause' : '▶️ Play';

      const prevHighlight = document.querySelector('.lx-text-window .lx-current-highlight');
      if (prevHighlight) prevHighlight.classList.remove('lx-current-highlight');
      const currentSpan = document.querySelector('.lx-text-window span[data-idx="' + currentIndex + '"]');
      if (currentSpan) {
        currentSpan.classList.add('lx-current-highlight');
        currentSpan.scrollIntoView({block: 'center', behavior: 'smooth'});
      }
    }

    function nextExtraction() {
      currentIndex = (currentIndex + 1) % extractions.length;
      updateDisplay();
    }

    function prevExtraction() {
      currentIndex = (currentIndex - 1 + extractions.length) % extractions.length;
      updateDisplay();
    }

    function jumpToExtraction(index) {
      currentIndex = parseInt(index);
      updateDisplay();
    }

    function playPause() {
      if (isPlaying) {
        clearInterval(animationInterval);
        isPlaying = false;
      } else {
        animationInterval = setInterval(nextExtraction, animationSpeed * 1000);
        isPlaying = true;
      }
      updateDisplay();
    }

    window.playPause = playPause;
    window.nextExtraction = nextExtraction;
    window.prevExtraction = prevExtraction;
    window.jumpToExtraction = jumpToExtraction;

    updateDisplay();
  })();
</script>