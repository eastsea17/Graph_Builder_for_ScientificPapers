<style>
.lx-highlight { position: relative; border-radius:3px; padding:1px 2px;}
.lx-highlight .lx-tooltip {
  visibility: hidden;
  opacity: 0;
  transition: opacity 0.2s ease-in-out;
  background: #333;
  color: #fff;
  text-align: left;
  border-radius: 4px;
  padding: 6px 8px;
  position: absolute;
  z-index: 1000;
  bottom: 125%;
  left: 50%;
  transform: translateX(-50%);
  font-size: 12px;
  max-width: 240px;
  white-space: normal;
  box-shadow: 0 2px 6px rgba(0,0,0,0.3);
}
.lx-highlight:hover .lx-tooltip { visibility: visible; opacity:1; }
.lx-animated-wrapper { max-width: 100%; font-family: Arial, sans-serif; }
.lx-controls {
  background: #fafafa; border: 1px solid #90caf9; border-radius: 8px;
  padding: 12px; margin-bottom: 16px;
}
.lx-button-row {
  display: flex; justify-content: center; gap: 8px; margin-bottom: 12px;
}
.lx-control-btn {
  background: #4285f4; color: white; border: none; border-radius: 4px;
  padding: 8px 16px; cursor: pointer; font-size: 13px; font-weight: 500;
  transition: background-color 0.2s;
}
.lx-control-btn:hover { background: #3367d6; }
.lx-progress-container {
  margin-bottom: 8px;
}
.lx-progress-slider {
  width: 100%; margin: 0; appearance: none; height: 6px;
  background: #ddd; border-radius: 3px; outline: none;
}
.lx-progress-slider::-webkit-slider-thumb {
  appearance: none; width: 18px; height: 18px; background: #4285f4;
  border-radius: 50%; cursor: pointer;
}
.lx-progress-slider::-moz-range-thumb {
  width: 18px; height: 18px; background: #4285f4; border-radius: 50%;
  cursor: pointer; border: none;
}
.lx-status-text {
  text-align: center; font-size: 12px; color: #666; margin-top: 4px;
}
.lx-text-window {
  font-family: monospace; white-space: pre-wrap; border: 1px solid #90caf9;
  padding: 12px; max-height: 260px; overflow-y: auto; margin-bottom: 12px;
  line-height: 1.6;
}
.lx-attributes-panel {
  background: #fafafa; border: 1px solid #90caf9; border-radius: 6px;
  padding: 8px 10px; margin-top: 8px; font-size: 13px;
}
.lx-current-highlight {
  border-bottom: 4px solid #ff4444;
  font-weight: bold;
  animation: lx-pulse 1s ease-in-out;
}
@keyframes lx-pulse {
  0% { text-decoration-color: #ff4444; }
  50% { text-decoration-color: #ff0000; }
  100% { text-decoration-color: #ff4444; }
}
.lx-legend {
  font-size: 12px; margin-bottom: 8px;
  padding-bottom: 8px; border-bottom: 1px solid #e0e0e0;
}
.lx-label {
  display: inline-block;
  padding: 2px 4px;
  border-radius: 3px;
  margin-right: 4px;
  color: #000;
}
.lx-attr-key {
  font-weight: 600;
  color: #1565c0;
  letter-spacing: 0.3px;
}
.lx-attr-value {
  font-weight: 400;
  opacity: 0.85;
  letter-spacing: 0.2px;
}

/* Add optimizations with larger fonts and better readability for GIFs */
.lx-gif-optimized .lx-text-window { font-size: 16px; line-height: 1.8; }
.lx-gif-optimized .lx-attributes-panel { font-size: 15px; }
.lx-gif-optimized .lx-current-highlight { text-decoration-thickness: 4px; }
</style>
<div class="lx-animated-wrapper lx-gif-optimized">
  <div class="lx-attributes-panel">
    <div class="lx-legend">Highlights Legend: <span class="lx-label" style="background-color:#D2E3FC;">Background</span> <span class="lx-label" style="background-color:#C8E6C9;">Purpose</span> <span class="lx-label" style="background-color:#FEF0C3;">Results</span></div>
    <div id="attributesContainer"></div>
  </div>
  <div class="lx-text-window" id="textWindow">
    <span class="lx-highlight lx-current-highlight" data-idx="0" style="background-color:#D2E3FC;">Small-world networks</span> <span class="lx-highlight" data-idx="1" style="background-color:#FEF0C3;">have attracted much theoretical attention and are widely thought to enhance creativity. Yet empirical studies of their evolution and evidence of their benefits remain scarce. We <span class="lx-highlight" data-idx="2" style="background-color:#C8E6C9;">develop</span> and exploit a novel database on patent coauthorship to investigate the effects of collaboration networks on innovation. Our analysis reveals the existence of regional small-world structures and the emergence and disappearance of giant components in patent collaboration networks. Using statistical models, we <span class="lx-highlight" data-idx="3" style="background-color:#C8E6C9;">test and fail to find evidence that small-world structure (cohesive clusters connected by occasional nonlocal ties) enhances innovative productivity within geographic regions.</span> We do find that both <span class="lx-highlight" data-idx="4" style="background-color:#FEF0C3;">shorter</span> path lengths and larger connected components correlate with increased innovation. We discuss the implications of our findings for future social network research and theory as well as regional innovation policies.</span>
  </div>
  <div class="lx-controls">
    <div class="lx-button-row">
      <button class="lx-control-btn" onclick="playPause()">▶️ Play</button>
      <button class="lx-control-btn" onclick="prevExtraction()">⏮ Previous</button>
      <button class="lx-control-btn" onclick="nextExtraction()">⏭ Next</button>
    </div>
    <div class="lx-progress-container">
      <input type="range" id="progressSlider" class="lx-progress-slider"
             min="0" max="4" value="0"
             onchange="jumpToExtraction(this.value)">
    </div>
    <div class="lx-status-text">
      Entity <span id="entityInfo">1/5</span> |
      Pos <span id="posInfo">[0-20]</span>
    </div>
  </div>
</div>

<script>
  (function() {
    const extractions = [{"index": 0, "class": "Background", "text": "Small-world networks are theorized to boost creativity but empirical evidence on their evolution and benefits is limited.", "color": "#D2E3FC", "startPos": 0, "endPos": 20, "beforeText": "", "extractionText": "Small-world networks", "afterText": " have attracted much theoretical attention and are widely thought to enhance creativity. Yet empirical studies of their evolution and evidence of thei", "attributesHtml": "<div><strong>class:</strong> Background</div><div><strong>attributes:</strong> {}</div>"}, {"index": 1, "class": "Results", "text": "Findings have implications for social network theory and regional innovation policy.", "color": "#FEF0C3", "startPos": 21, "endPos": 933, "beforeText": "Small-world networks ", "extractionText": "have attracted much theoretical attention and are widely thought to enhance creativity. Yet empirical studies of their evolution and evidence of their benefits remain scarce. We develop and exploit a novel database on patent coauthorship to investigate the effects of collaboration networks on innovation. Our analysis reveals the existence of regional small-world structures and the emergence and disappearance of giant components in patent collaboration networks. Using statistical models, we test and fail to find evidence that small-world structure (cohesive clusters connected by occasional nonlocal ties) enhances innovative productivity within geographic regions. We do find that both shorter path lengths and larger connected components correlate with increased innovation. We discuss the implications of our findings for future social network research and theory as well as regional innovation policies.", "afterText": "", "attributesHtml": "<div><strong>class:</strong> Results</div><div><strong>attributes:</strong> {}</div>"}, {"index": 2, "class": "Purpose", "text": "Develop a novel patent coauthorship database to assess how collaboration network structures affect regional innovation.", "color": "#C8E6C9", "startPos": 199, "endPos": 206, "beforeText": "cal attention and are widely thought to enhance creativity. Yet empirical studies of their evolution and evidence of their benefits remain scarce. We ", "extractionText": "develop", "afterText": " and exploit a novel database on patent coauthorship to investigate the effects of collaboration networks on innovation. Our analysis reveals the exis", "attributesHtml": "<div><strong>class:</strong> Purpose</div><div><strong>attributes:</strong> {}</div>"}, {"index": 3, "class": "Purpose", "text": "Test whether small\u2011world structures (cohesive clusters with occasional nonlocal ties) enhance innovative productivity.", "color": "#C8E6C9", "startPos": 516, "endPos": 691, "beforeText": "egional small-world structures and the emergence and disappearance of giant components in patent collaboration networks. Using statistical models, we ", "extractionText": "test and fail to find evidence that small-world structure (cohesive clusters connected by occasional nonlocal ties) enhances innovative productivity within geographic regions.", "afterText": " We do find that both shorter path lengths and larger connected components correlate with increased innovation. We discuss the implications of our fin", "attributesHtml": "<div><strong>class:</strong> Purpose</div><div><strong>attributes:</strong> {}</div>"}, {"index": 4, "class": "Results", "text": "Shorter average path lengths and larger connected components are positively associated with increased innovation.", "color": "#FEF0C3", "startPos": 713, "endPos": 720, "beforeText": " structure (cohesive clusters connected by occasional nonlocal ties) enhances innovative productivity within geographic regions. We do find that both ", "extractionText": "shorter", "afterText": " path lengths and larger connected components correlate with increased innovation. We discuss the implications of our findings for future social netwo", "attributesHtml": "<div><strong>class:</strong> Results</div><div><strong>attributes:</strong> {}</div>"}];
    let currentIndex = 0;
    let isPlaying = false;
    let animationInterval = null;
    let animationSpeed = 1.0;

    function updateDisplay() {
      const extraction = extractions[currentIndex];
      if (!extraction) return;

      document.getElementById('attributesContainer').innerHTML = extraction.attributesHtml;
      document.getElementById('entityInfo').textContent = (currentIndex + 1) + '/' + extractions.length;
      document.getElementById('posInfo').textContent = '[' + extraction.startPos + '-' + extraction.endPos + ']';
      document.getElementById('progressSlider').value = currentIndex;

      const playBtn = document.querySelector('.lx-control-btn');
      if (playBtn) playBtn.textContent = isPlaying ? '⏸ Pause' : '▶️ Play';

      const prevHighlight = document.querySelector('.lx-text-window .lx-current-highlight');
      if (prevHighlight) prevHighlight.classList.remove('lx-current-highlight');
      const currentSpan = document.querySelector('.lx-text-window span[data-idx="' + currentIndex + '"]');
      if (currentSpan) {
        currentSpan.classList.add('lx-current-highlight');
        currentSpan.scrollIntoView({block: 'center', behavior: 'smooth'});
      }
    }

    function nextExtraction() {
      currentIndex = (currentIndex + 1) % extractions.length;
      updateDisplay();
    }

    function prevExtraction() {
      currentIndex = (currentIndex - 1 + extractions.length) % extractions.length;
      updateDisplay();
    }

    function jumpToExtraction(index) {
      currentIndex = parseInt(index);
      updateDisplay();
    }

    function playPause() {
      if (isPlaying) {
        clearInterval(animationInterval);
        isPlaying = false;
      } else {
        animationInterval = setInterval(nextExtraction, animationSpeed * 1000);
        isPlaying = true;
      }
      updateDisplay();
    }

    window.playPause = playPause;
    window.nextExtraction = nextExtraction;
    window.prevExtraction = prevExtraction;
    window.jumpToExtraction = jumpToExtraction;

    updateDisplay();
  })();
</script>